!function(){"use strict";angular.module("ngFrontPage",["duScroll"]).service("frontPageService",["$document","$rootScope","$timeout",function(a,b,c){var d,e,f=angular.element(a[0].body),g=angular.element(f.parent()),h=[],i={enabled:!1,scrollCapture:!1,activeElementIndex:null,aligned:!1,enable:function(){i.enabled||(f.addClass("front-page-enabled"),g.addClass("front-page-init"),b.$broadcast("front-page-initialized"),a.on("scroll",k),a.on("keydown",m),i.enabled=!0,h=[])},destroy:function(){f.removeClass("front-page-enabled"),g.removeClass("front-page-init"),b.$broadcast("front-page-destroyed"),a.off("scroll",k),angular.element(a).off("keydown",m)},registerFullPage:function(b){h.push(b),i.safeScroll(a.scrollTop())},safeScroll:function(b,e,f){if(!i.aligned){a.off("scroll",k),c.cancel(d),d=c(function(){a.on("scroll",k)},500);for(var g=0;g<h.length;g++){var j=h[g];if("up"===e&&b>=j.offsetTop&&b<j.offsetTop+j.clientHeight||"up"!==e&&j.offsetTop>=b&&j.offsetTop<b+j.clientHeight){i.activeElementIndex=g,i.scrollCapture=!0,i.align=!0;break}i.scrollCapture=!1}var l=i.scrollCapture?h[i.activeElementIndex].offsetTop:b;a.scrollTop(l,350).then(function(){c.cancel(d),a.on("scroll",k)})}}},j=function(a,b){var c;a>b&&(c="down"),b>a&&(c="up"),i.align=!1,i.safeScroll(a,c),e=null},k=function(b){var d=a.scrollTop(),f=d,g=function(){var b=a.scrollTop();b===f?(c.cancel(e),e=void 0,j(b,d)):(e=c(g,50),f=b)};e||(e=c(g,50))},l=function(a,b){a.preventDefault(),i.scrollCapture&&angular.element(h[i.activeElementIndex]).triggerHandler("move-"+b)},m=function(a){if(i.scrollCapture){var b=a.charCode||a.keyCode;37===b&&l(a,"left"),39===b&&(a.preventDefault(),l(a,"right"))}};return i}]).directive("frontPage",["$window","$document","frontPageService","$timeout",function(a,b,c,d){return{restrict:"A",link:function(a,b){a.settings={activeSlide:0,slideRange:[0,1],slideCount:2},a.slideController={ready:function(a){},goSlide:function(b){a.settings.activeSlide=b,a.$broadcast("change-slide",{slide:b})},nextSlide:function(){a.settings.activeSlide=(a.settings.activeSlide+1)%a.settings.slideCount,a.$broadcast("change-slide",{slide:a.settings.activeSlide})},previousSlide:function(){a.settings.activeSlide=(a.settings.activeSlide-1+a.settings.slideCount)%a.settings.slideCount,a.$broadcast("change-slide",{slide:a.settings.activeSlide})}},b.on("move-left",function(){a.slideController.previousSlide(),a.$apply()}),b.on("move-right",function(){a.slideController.nextSlide(),a.$apply()}),d(function(){c.enable(),c.registerFullPage(b[0])}),a.$on("$destroy",function(){b.off("move-left"),b.off("move-right")})}}}]).directive("slideContainer",["$window","$document","$timeout",function(a,b,c){return{restrict:"C",link:function(a,b){var d=b.children(),e=d.length;c(function(){e>1&&(b[0].style.width=100*e+"%",angular.forEach(d,function(a){a.style.width=100/e+"%"}),a.slideController.ready({count:e}))}),a.$on("change-slide",function(a,c){angular.isNumber(c.slide)&&(b[0].style["margin-left"]="-"+100*c.slide+"%")})}}}]).directive("horizontalNav",[function(){return{restrict:"C",template:'<a href="javascript:;" data-ng-repeat="i in settings.slideRange" data-ng-class="{\'active\': i === settings.activeSlide}" data-ng-click="slideController.goSlide(i)"></a>'}}]).directive("prevButton",[function(){return{restrict:"C",template:'<a href="javascript:;" data-ng-click="slideController.previousSlide()"></a>'}}]).directive("nextButton",[function(){return{restrict:"C",template:'<a href="javascript:;" data-ng-click="slideController.nextSlide()"></a>'}}])}();